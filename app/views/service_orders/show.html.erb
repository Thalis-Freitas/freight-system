<div class="container"><h2><%="#{ServiceOrder.model_name.human} #{@service_order.code}"%></h2>
<ul>
  <li><b><%= ServiceOrder.human_attribute_name(:source_address) %>:</b>
    <%= @service_order.source_address %>
  </li>
  <li><b><%= ServiceOrder.human_attribute_name(:product_code) %>:</b>
    <%= @service_order.product_code.upcase %>
  </li>
  <li><b><%= t(:dimensions) %>:</b>
    <%="#{@service_order.height}cm x #{@service_order.width}cm x #{@service_order.depth}cm"%>
  </li>
  <li><b><%= ServiceOrder.human_attribute_name(:destination_address) %>:</b>
    <%= @service_order.destination_address %>
  </li>
  <li><b><%= ServiceOrder.human_attribute_name(:recipient) %>:</b>
    <%= @service_order.recipient %>
  </li>
  <li><b><%= ServiceOrder.human_attribute_name(:recipient_phone) %>:</b>
    <%= @service_order.recipient_phone %>
  </li>
  <li><b><%= ServiceOrder.human_attribute_name(:total_distance) %>:</b>
    <%= @service_order.total_distance %>km
  </li>
  <li><b><%= ServiceOrder.human_attribute_name(:weight) %>:</b>
    <%= @service_order.weight %>kg
  </li>
  <li><b><%= ServiceOrder.human_attribute_name(:status) %>:</b>
    <% if @service_order.pending? %>
      <b class="text-danger"><%= t(@service_order.status, count:1) %></b>
    <% end %>
  </li>
</ul>

<% if current_user.admin? %>
  <%= link_to "#{t :edit} #{ServiceOrder.model_name.human}", edit_service_order_path, class:'btn btn-primary' %>
<% end %>

<% if @mode_of_transports.any? %>
  <div class="text-center table-responsive mt-3 col-12 col-lg-6 border p-2">
    <table class="table table-striped">
      <h4><%="#{ModeOfTransport.model_name.human(count:2)} #{t(:compatible, count:2)}"%></h4>
        <thead>
          <tr>
            <th scope="col"></th>
            <th scope="col"><%= t(:price) %></th>
            <th scope="col"><%= t(:deadline)%></th>
          </tr>
        </thead>
        <tbody class="table-group-divider">
        <% @mode_of_transports.each do |mode_of_transport| %>
          <tr>
            <td scope="row"><b><%= mode_of_transport.name %></b> </td>
            <td scope="row"> <%= number_to_currency(ModeOfTransportFinder.new(mode_of_transport, @service_order).calculate_price.to_f / 100) %> </td>
            <% deadline = ModeOfTransportFinder.new(mode_of_transport, @service_order).calculate_deadline %>
            <% if deadline < 120 %>
              <td scope="row"> <%= deadline %> horas</td>
            <% else %>
              <td scope="row"> <%= deadline/24 %> dias</td>
            <% end %>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
<% else %>
  <div class="mt-3 col-12 col-lg-6">
    <h5 class="mt-3 alert alert-danger " role="alert"><%="#{t(:no_transport_mode)} #{t(:compatible, count:1)}"%></h5>
  </div>
<% end %>